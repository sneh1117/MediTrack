openapi: 3.0.3
info:
  title: MediTrack API
  version: 1.0.0
  description: Personal Health & Medication Reminder API with AI insights
paths:
  /api/auth/assign-doctor/:
    put:
      operationId: auth_assign_doctor_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Patient'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Patient'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Patient'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patient'
          description: ''
    patch:
      operationId: auth_assign_doctor_partial_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPatient'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPatient'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPatient'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patient'
          description: ''
  /api/auth/login/:
    post:
      operationId: auth_login_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
        required: true
      security:
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
  /api/auth/patients/:
    get:
      operationId: auth_patients_list
      tags:
      - auth
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DoctorPatients'
          description: ''
  /api/auth/patients/{id}/:
    get:
      operationId: auth_patients_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - auth
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DoctorPatients'
          description: ''
  /api/auth/profile/:
    get:
      operationId: auth_profile_retrieve
      tags:
      - auth
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: auth_profile_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    patch:
      operationId: auth_profile_partial_update
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUser'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
  /api/auth/register/:
    post:
      operationId: auth_register_create
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserRegistration'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UserRegistration'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserRegistration'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserRegistration'
          description: ''
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/dashboard/:
    get:
      operationId: dashboard_retrieve
      tags:
      - dashboard
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/medications/:
    get:
      operationId: medications_list
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Medication'
          description: ''
    post:
      operationId: medications_create
      tags:
      - medications
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Medication'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Medication'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Medication'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
  /api/medications/{id}/:
    get:
      operationId: medications_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
    put:
      operationId: medications_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - medications
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Medication'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Medication'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Medication'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
    patch:
      operationId: medications_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - medications
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedMedication'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedMedication'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedMedication'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
    delete:
      operationId: medications_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/medications/adherence/:
    get:
      operationId: medications_adherence_retrieve
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/medications/current/:
    get:
      operationId: medications_current_retrieve
      description: Get currently active medications
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
  /api/medications/upcoming/:
    get:
      operationId: medications_upcoming_retrieve
      description: Get medications starting soon
      tags:
      - medications
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Medication'
          description: ''
  /api/moods/:
    get:
      operationId: moods_list
      tags:
      - moods
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MoodLog'
          description: ''
    post:
      operationId: moods_create
      tags:
      - moods
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MoodLog'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MoodLog'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MoodLog'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoodLog'
          description: ''
  /api/moods/{id}/:
    get:
      operationId: moods_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - moods
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoodLog'
          description: ''
    put:
      operationId: moods_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - moods
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MoodLog'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MoodLog'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MoodLog'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoodLog'
          description: ''
    patch:
      operationId: moods_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - moods
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedMoodLog'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedMoodLog'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedMoodLog'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoodLog'
          description: ''
    delete:
      operationId: moods_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - moods
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/moods/trends/:
    get:
      operationId: moods_trends_retrieve
      description: Get mood trends formatted for Chart.js
      tags:
      - moods
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MoodLog'
          description: ''
  /api/symptoms/:
    get:
      operationId: symptoms_list
      parameters:
      - name: ordering
        required: false
        in: query
        description: Which field to use when ordering the results.
        schema:
          type: string
      - name: search
        required: false
        in: query
        description: A search term.
        schema:
          type: string
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Symptom'
          description: ''
    post:
      operationId: symptoms_create
      tags:
      - symptoms
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Symptom'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Symptom'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Symptom'
        required: true
      security:
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
  /api/symptoms/{id}/:
    get:
      operationId: symptoms_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
    put:
      operationId: symptoms_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - symptoms
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Symptom'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Symptom'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Symptom'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
    patch:
      operationId: symptoms_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - symptoms
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSymptom'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSymptom'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSymptom'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
    delete:
      operationId: symptoms_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/symptoms/ai_insights/:
    get:
      operationId: symptoms_ai_insights_retrieve
      description: Get AI-powered health insights
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
  /api/symptoms/by_medication/:
    get:
      operationId: symptoms_by_medication_retrieve
      description: Group symptoms by related medications
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
  /api/symptoms/last_seven_days/:
    get:
      operationId: symptoms_last_seven_days_retrieve
      description: Get symptoms from last 7 days
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
  /api/symptoms/summary/:
    get:
      operationId: symptoms_summary_retrieve
      description: Get aggregated symptom summary
      tags:
      - symptoms
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Symptom'
          description: ''
components:
  schemas:
    DoctorPatients:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
      required:
      - id
      - username
    FrequencyEnum:
      enum:
      - once_daily
      - twice_daily
      - three_times_daily
      - as_needed
      - custom
      type: string
      description: |-
        * `once_daily` - Once Daily
        * `twice_daily` - Twice Daily
        * `three_times_daily` - Three Times Daily
        * `as_needed` - As Needed
        * `custom` - Custom Schedule
    Medication:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        is_current:
          type: string
          readOnly: true
        name:
          type: string
          maxLength: 200
        dosage:
          type: string
          maxLength: 100
        frequency:
          $ref: '#/components/schemas/FrequencyEnum'
        custom_schedule:
          nullable: true
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - dosage
      - frequency
      - id
      - is_current
      - name
      - start_date
      - updated_at
    MoodEnum:
      enum:
      - 1
      - 2
      - 3
      - 4
      - 5
      type: integer
      description: |-
        * `1` - Very Bad
        * `2` - Bad
        * `3` - Okay
        * `4` - Good
        * `5` - Very Good
    MoodLog:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        mood_display:
          type: string
          readOnly: true
        mood:
          $ref: '#/components/schemas/MoodEnum'
        notes:
          type: string
        date:
          type: string
          format: date
        logged_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - date
      - id
      - logged_at
      - mood
      - mood_display
    PatchedMedication:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        is_current:
          type: string
          readOnly: true
        name:
          type: string
          maxLength: 200
        dosage:
          type: string
          maxLength: 100
        frequency:
          $ref: '#/components/schemas/FrequencyEnum'
        custom_schedule:
          nullable: true
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
          nullable: true
        notes:
          type: string
        is_active:
          type: boolean
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    PatchedMoodLog:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        mood_display:
          type: string
          readOnly: true
        mood:
          $ref: '#/components/schemas/MoodEnum'
        notes:
          type: string
        date:
          type: string
          format: date
        logged_at:
          type: string
          format: date-time
          readOnly: true
    PatchedPatient:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
        assigned_doctor:
          type: integer
          nullable: true
        assigned_doctor_name:
          type: string
          readOnly: true
    PatchedSymptom:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        related_medications_details:
          type: array
          items:
            $ref: '#/components/schemas/Medication'
          readOnly: true
        name:
          type: string
          maxLength: 200
        severity:
          type: integer
          maximum: 10
          minimum: 1
          description: Severity on scale of 1-10
        notes:
          type: string
        logged_at:
          type: string
          format: date-time
          readOnly: true
        date:
          type: string
          format: date
        related_medications:
          type: array
          items:
            type: integer
    PatchedUser:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        role:
          $ref: '#/components/schemas/RoleEnum'
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
    Patient:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
        assigned_doctor:
          type: integer
          nullable: true
        assigned_doctor_name:
          type: string
          readOnly: true
      required:
      - assigned_doctor_name
      - id
      - username
    RoleEnum:
      enum:
      - patient
      - doctor
      type: string
      description: |-
        * `patient` - Patient
        * `doctor` - Doctor
    Symptom:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        related_medications_details:
          type: array
          items:
            $ref: '#/components/schemas/Medication'
          readOnly: true
        name:
          type: string
          maxLength: 200
        severity:
          type: integer
          maximum: 10
          minimum: 1
          description: Severity on scale of 1-10
        notes:
          type: string
        logged_at:
          type: string
          format: date-time
          readOnly: true
        date:
          type: string
          format: date
        related_medications:
          type: array
          items:
            type: integer
      required:
      - date
      - id
      - logged_at
      - name
      - related_medications_details
      - severity
    TokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          readOnly: true
      required:
      - access
      - password
      - refresh
      - username
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
      - access
      - refresh
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        role:
          $ref: '#/components/schemas/RoleEnum'
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
      required:
      - id
      - username
    UserRegistration:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        password:
          type: string
          writeOnly: true
        role:
          $ref: '#/components/schemas/RoleEnum'
        phone:
          type: string
          maxLength: 15
        date_of_birth:
          type: string
          format: date
          nullable: true
      required:
      - id
      - password
      - username
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
